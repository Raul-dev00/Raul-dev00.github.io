<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Claustrowordia</title>
  <style>
    /*
    GENEL SAYFA GÃ–RÃœNÃœM Ã–ZELLÄ°KLERÄ°
    */
     body {
      height: 100vh;
      margin: 0;
    }
    /*
    DÄ°V'LERÄ°N GÃ–RÃœNÃœM DÃœZENLERÄ° VE KONUMLARI
    */
    #container { display: flex; min-height: 100vh; }
    #leftPanel { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    #gameBoard { display: grid; grid-template-columns: repeat(7, 60px); gap: 2px; margin: 20px 0; }
    #letterRack { display: flex; justify-content: center; margin: 10px; gap: 5px; }
    #rightPanel { width: 200px; padding: 10px; background: #333; border-left: 2px solid #555; }
    #wordListDisplay { margin-top: 10px; text-align: left; font-size: 18px; color:white}
    /*
    HÃœCRE VE HARF KUTULARI GÃ–RÃœNÃœM Ã–ZELLÄ°KLERÄ°
    */
    .cell, .tile {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 18px;
      background: #444;
      color: #fff;
      user-select: none;        /*HÃœCRENÄ°N SEÃ‡Ä°LEMEMESÄ°*/
      clip-path: polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%);     /*ALTIGEN*/
    }
    .cell {
      border: 1px solid #666;
    }
    .tile {
      background: #666;
      cursor: grab;
    }
    .tile:active {
      cursor: grabbing;
    }
    /*SABÄ°T HÃœCRELER*/
    .cell[data-fixed="true"] {
      background-color: #666;
      outline: 2px solid orange;
      cursor: not-allowed;
    }
  </style>
</head>

<!-- 
BAÅžLANGIÃ‡ EKRANI 
-->
<div id="startScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); color: white; z-index: 30; display: flex; flex-direction: column; justify-content: center; align-items: center;">
  <h1 style="font-size: 48px; margin-bottom: 20px;">Claustrowordia</h1>
  <p style="font-size: 20px; max-width: 500px; text-align: center; margin-bottom: 30px;">
    Harfleri sÃ¼rÃ¼kleyip tabloya bÄ±rak. AnlamlÄ± kelimeler oluÅŸtur ve puan topla!
  </p>
  <div>
    <button onclick="oyunuBaslat()" style="padding: 12px 24px; font-size: 18px; margin: 10px;">Oyna</button>
    <button onclick="alert('SÃ¼rÃ¼kle ve bÄ±rak yÃ¶ntemiyle harfleri yerleÅŸtir. Yatay ve dikey anlamlÄ± kelimeler oluÅŸtur. YerleÅŸtirdiÄŸin her harfin yerine baÅŸka bir harf Ã§Ä±kar.')"
      style="padding: 12px 24px; font-size: 18px; margin: 10px;">NasÄ±l OynanÄ±r?</button>
  </div>
</div>

<body>
  <!-- 
  ARKAPLAN MÃœZÄ°ÄžÄ° VE KONTROL BUTONU 
  -->
  <audio id="bgMusic" autoplay loop>
    <source src="oyun_muzik(jungle).mp3" type="audio/mpeg">
  </audio>
  <button id="muteBtn" style="position: fixed; top: 10px; left: 10px; z-index: 10; padding: 6px 12px; font-size: 14px; cursor: pointer;">ðŸ”Š</button>

  <!-- 
  ARKAPLAN VÄ°DEOSU 
  -->
  <video autoplay muted loop id="bgVideo"
    style="position: fixed; right: 0; bottom: 0; min-width: 100%; min-height: 100%; z-index: -1; object-fit: cover;">
    <source src="arkaplan.mp4" type="video/mp4">
  </video>

  <!--
   CANVAS 
  -->
  <canvas id="canvasLayer" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none;"></canvas>

  <!--
   OYUN ALANI VE KELÄ°ME PANELÄ°
  -->
  <div id="container">
    <div id="leftPanel">
      <h1 style="color: white; background: rgba(0,0,0,0.6); padding: 4px 10px; border-radius: 6px; font-size: 50px;">Claustrowordia</h1>
      <p style="color: white; background: rgba(0,0,0,0.6); padding: 4px 10px; border-radius: 6px; font-size: 20px;">Harfleri sÃ¼rÃ¼kleyip kutulara bÄ±rak!</p>
      <div id="gameBoard"></div>
      <div id="letterRack"></div>
    </div>
    <div id="rightPanel">
      <h3 style="color:#fff; font-size: 23px;">Bulunan Kelimeler</h3>
      <div id="wordListDisplay"></div>
    </div>
  </div>

  <!-- 
  SKOR TABLOSU
  -->
  <div id="scoreDisplay" style="position: fixed; top: 50px; left: 10px; color: white; background: rgba(0,0,0,0.6); padding: 4px 10px; border-radius: 6px; font-size: 50px; z-index: 10; font-weight: bold;">Skor: 0</div>

  <script>
    /*
    SES AÃ‡MA / KAPAMA
    */
    const arkaPlanMuzigi = document.getElementById('bgMusic');
    const sessizlestirmeButonu = document.getElementById('muteBtn');
    sessizlestirmeButonu.addEventListener('click', () => {
      arkaPlanMuzigi.muted = !arkaPlanMuzigi.muted;
      sessizlestirmeButonu.textContent = arkaPlanMuzigi.muted ? 'ðŸ”‡' : 'ðŸ”Š';
    });
    arkaPlanMuzigi.volume = 0.3; // %30 ses

    /*
    OYUN TAHTASI VE RASTGELE HARFLER
    */
    const tahtaBoyutu = 7;
    const tahta = Array.from({ length: tahtaBoyutu }, () => Array(tahtaBoyutu).fill(''));
    const rafHarfler = [];
    const turkceHarfler = ['A','B','C','Ã‡','D','E','F','G','Äž','H','I','Ä°','J','K','L','M','N','O','Ã–','P','R','S','Åž','T','U','Ãœ','V','Y','Z'];

    /*
    KELÄ°ME LÄ°STESÄ° VE BULUNAN KELÄ°MELER
    */
    const kelimeListesi = ["ADA", "ADIM", "AÄžAÃ‡", "AKIL", "AKSU", "ALAN", "ALTIN", "ANA", "ANLAM", "ARABA",
    "ARKA", "ARMUT", "ASLAN", "AT", "AV", "AY", "AYDIN", "AZ", "AZAL", "AZIM",
    "BACAK", "BAHÃ‡E", "BALIK", "BALKON", "BARÄ°", "BASKI", "BATAK", "BAYAN", "BAYRAK", "BEBEK",
    "BEKAR", "BELGE", "BEN", "BERAT", "BESÄ°N", "BEYAZ", "BÄ°LEK", "BÄ°LGÄ°", "BÄ°RAZ", "BÄ°RÄ°",
    "BOYA", "BU", "BULUT", "BÃœTÃœN", "CAN", "CEVAP", "CEYLAN", "CÄ°DDÄ°", "CÄ°ÄžER", "CÄ°NS",
    "Ã‡ABUK", "Ã‡ANTA", "Ã‡EÅžME", "Ã‡EVRE", "Ã‡Ä°FT", "Ã‡Ä°LEK", "Ã‡Ä°N", "Ã‡OCUK", "Ã‡ORAP", "DAÄž",
    "DAL", "DAMLAT", "DANIÅž", "DAR", "DAVET", "DAYI", "DEFNE", "DELÄ°", "DEMÄ°R", "DENÄ°Z",
    "DERE", "DEVRÄ°M", "DÄ°KEN", "DÄ°L", "DÄ°NAMÄ°K", "DÄ°REK", "DÄ°Åž", "DOKU", "DOLAP", "DOST",
    "DUA", "DUVAR", "DÃœNYA", "EDEBÄ°", "EÄžÄ°TÄ°M", "EKMEK", "EL", "ELMA", "EMEK", "EMÄ°R",
    "EN", "ERKEK", "ESKÄ°", "EV", "EVLAT", "FARK", "FASULYE", "FENER", "FÄ°KÄ°R", "FÄ°LM",
    "GAZETE", "GELÄ°N", "GEMÄ°", "GENÄ°Åž", "GERÃ‡EK", "GEYÄ°K", "GÄ°DER", "GÃ–K", "GÃ–LGE", "GÃ–REV",
    "GÃ–Z", "GÃœL", "GÃœNEÅž", "GÃœVEN", "HABER", "HALI", "HAMUR", "HANIM", "HAYAL", "HAYVAN",
    "HEDEF", "HELAL", "HESAP", "HIRSIZ", "HÄ°KAYE", "HÄ°SAR", "HUZUR", "IÅžIK", "Ä°Ã‡ECEK", "Ä°KLÄ°M",
    "Ä°LAÃ‡", "Ä°LHAM", "Ä°MAM", "Ä°NSAN", "Ä°STEK", "Ä°Åž", "Ä°ÅžARET", "Ä°TÄ°BAR", "Ä°ZÄ°N", "JANDARMA",
    "KALEM", "KALKAN", "KAMU", "KANAT", "KAPI", "KAR", "KARDEÅž", "KARTAL", "KASA", "KASK",
    "KAVAK", "KAVGA", "KAZA", "KEDÄ°", "KELÄ°ME", "KEMÄ°K", "KENAR", "KEREVÄ°Z", "KESKÄ°N", "KIÅž",
    "KÄ°MSE", "KÄ°TAP", "KIZ", "KOALA", "KOL", "KÃ–PEK", "KÃ–R", "KÃ–Y", "KULE", "KUM",
    "KURT", "KÃœÃ‡ÃœK", "LAMBALI", "LÄ°MON", "MAHALLE", "MAKAS", "MANDALÄ°N", "MANTAR", "MASA", "MEKTUP",
    "MEÅžE", "MÄ°KROP", "MODA", "MUZ", "NAMAZ", "NEFES", "NEM", "NÄ°SAN", "NOKTA", "NUR",
    "OCAK", "ODA", "OKUL", "OLAY", "OMUZ", "ONA", "ORADA", "ORMAN", "OTOBÃœS", "OYUN",
    "PANO", "PARA", "PARK", "PATATES", "PENCERE", "PERDE", "PÄ°LAV", "PÄ°YANO", "POLÄ°S", "PORTAKAL",
    "RADYO", "RENK", "RESÄ°M", "ROKET", "SABAH", "SAÃ‡", "SAHÄ°L", "SAKÄ°N", "SALATA", "SANDALYE",
    "SARMAÅžIK", "SAYFA", "SEN", "SEPET", "SICAK", "SÄ°LAH", "SÄ°NEMA", "SIRA", "SOBA", "SOÄžUK",
    "SOKAK", "SOMA", "SORDU", "SORU", "SU", "SÃœT", "ÅžAFAK", "ÅžANS", "ÅžAPKA", "ÅžARKI",
    "ÅžEKER", "ÅžEMSÄ°YE", "ÅžERÄ°T", "ÅžÄ°Ä°R", "ÅžÄ°KAYET", "ÅžÄ°MÅžEK", "ÅžÄ°RAZ", "ÅžOFÃ–R", "TABAK", "TAKIM",
    "TAKSÄ°", "TAMÄ°R", "TANRI", "TARÄ°H", "TAÅž", "TAVUK", "TEKME", "TELEFON", "TELEVÄ°ZYON", "TENCERE",
    "TURUNCU", "UÃ‡AK", "UÄžUR", "ULUS", "UMUT", "UNUT", "UYGUN", "UYKU", "UZAK", "ÃœÃ‡GEN",
    "ÃœLKE", "ÃœMÄ°T", "ÃœNÄ°VERSÄ°TE", "ÃœRETÄ°M", "ÃœST", "ÃœTÃœ", "VAZGEÃ‡", "VEDA", "VELÄ°", "VÄ°RAJ",
    "VÄ°ZE", "YAÄžMUR", "YAKA", "YALAN", "YAMAÃ‡", "YANGIN", "YAPRAK", "YARIN", "YAZ", "YEMEK",
    "YER", "YILDIZ", "YOL", "YUMURTA", "ZAMANI", "ZARAR", "ZENGÄ°N", "ZEYTÄ°N", "ZÄ°NCÄ°R", "ZORLU", "ABLA", 
    "AÃ‡LIK", "AÄžIRLIK", "AHÅžAP", "AKARYAKIT", "AKORT", "ALBÃœM", "ALEV", "ALGI", "ALIN",
    "ALTLIK", "AMÄ°GO", "ANAHTAR", "ANATOMÄ°", "ANDIR", "ANÄ°MASYON", "ANTRENMAN", "ARITMA", "ASKER", "ASMA",
    "ATAK", "AVANS", "AYAKKABI", "AYNA", "AZÄ°Z", "BABACAN", "BAÄžIÅž", "BAHAR", "BAKIR", "BALON",
    "BANKA", "BARDAK", "BASINÃ‡", "BATI", "BAYAT", "BEDEL", "BEÄžENÄ°", "BEÅžÄ°K", "BETON", "BÄ°LGÄ°SAYAR",
    "BÄ°LEZÄ°K", "BÄ°RÄ°NCÄ°", "BÄ°TKÄ°", "BLOK", "BOÅžLUK", "BOYA", "BÃ–LGE", "BUHAR", "BUZUL", "BÃœRO",
    "BÃœTÃ‡E", "CADDE", "CAMÄ°", "CANKURTARAN", "CEBÄ°R", "CEVÄ°Z", "CÄ°RO", "Ã‡ADIR", "Ã‡AMAÅžIR", "Ã‡ARIK",
    "Ã‡ATAL", "Ã‡ELÄ°K", "Ã‡Ä°ZGÄ°", "Ã‡Ã–P", "Ã‡UKUR", "DAKÄ°KA", "DALGA", "DARBE", "DAVRANIÅž", "DAYANIK",
    "DEÄžER", "DEMET", "DERGÄ°", "DERÄ°N", "DÄ°KÄ°Åž", "DÄ°LÄ°M", "DÄ°NAMO", "DÄ°REKSÄ°YON", "DÄ°ZAYN", "DOÄžA",
    "DOKTOR", "DOLAR", "DONDURMA", "DONMA", "DUDAK", "DUVAR", "DÃœÄžME", "EDEBÄ°YAT", "EKLEK", "EKMEKÃ‡Ä°",
    "ELDÄ°VEN", "ELEKTRÄ°K", "ELMAS", "ELVAN", "EMAYE", "EMNÄ°YET", "ENFEKSÄ°YON", "ENSE", "ERGEN", "ERGÄ°N",
    "ESANS", "ESER", "ETKÄ°", "FARÄ°Z", "FASIL", "FELSEFE", "FENERBAHÃ‡E", "FÄ°KÄ°R", "FÄ°LÄ°Z", "FÄ°LTRE",
    "FIRIN", "FISTIK", "FLORÃœR", "FORM", "FOTOÄžRAF", "FREN", "FUAR", "GARDROP", "GARNÄ°TÃœR", "GAYE",
    "GECÄ°KME", "GEMÄ°CÄ°", "GENETÄ°K", "GENÄ°ÅžLÄ°K", "GERÄ°LÄ°M", "GEYÄ°K", "GIDA", "GÄ°DER", "GÄ°YSÄ°", "GÃ–BEK",
    "GÃ–L", "GÃ–MLEK", "GÃ–REV", "GÃ–ZLÃœK", "GRUP", "GÃœBRE", "GÃœÃ‡LÃœ", "GÃœMÃœÅž", "GÃœNLÃœK", "GÃœRÃœLTÃœ",
    "HACÄ°M", "HAFIZA", "HALAT", "HALLER", "HAMUR", "HARÄ°TA", "HASAT", "HAVLU", "HAYALET", "HAYAT",
    "HÄ°DROLÄ°K", "HÄ°KAYE", "HÄ°ZMET", "HOCA", "HOPARLÃ–R", "HUKUK", "HURDA", "IÅžILTI", "IÅžIN", "IÅžITMA",
    "IÅžKIRA", "Ä°BADET", "Ä°Ã‡ECEKLER", "Ä°Ã‡ERÄ°K", "Ä°Ã‡MEK", "Ä°FADE", "Ä°HLAL", "Ä°KAZ", "Ä°KLÄ°MSEL", "Ä°LAHÄ°",
    "Ä°LÃ‡E", "Ä°LGÄ°", "Ä°LHAM", "Ä°LTÄ°FAT", "Ä°MGE", "Ä°MKAN", "Ä°MZA", "Ä°NANÃ‡", "Ä°NFAZ", "Ä°NÅžAAT",
    "Ä°PLÄ°K", "Ä°RADE", "Ä°SKELE", "Ä°SLAM", "Ä°STASYON", "Ä°STEK", "Ä°TÄ°RAF", "Ä°TÄ°RAZ", "Ä°ZÄ°N", "JEST",
    "KABAK", "KABÄ°NE", "KABUK", "KADRO", "KAFES", "KAGÄ°R", "KAHVE", "KALDIRIM", "KALÄ°TE", "KALP",
    "KAMYON", "KANTAR", "KANUN", "KAPIKULE", "KARANLIK", "KARGO", "KARÄ°YER", "KASKO", "KATKI", "KAVRAM",
    "KAYIT", "KAZAN", "KEDER", "KEMER", "KENT", "KERATA", "KESÄ°K", "KILAVUZ", "KIRMIZI", "KISIM",
    "KÄ°TLE", "KLASÄ°K", "KLAVYE", "KOCA", "KOLEJ", "KOMUTAN", "KONFERANS", "KONUK", "KONUÅžMA", "KOPMA",
    "KORKU", "KORUMA", "KOSKOCAMAN", "KÃ–KEN", "KÃ–PRÃœ", "KÃœFE", "KÃœLTÃœR", "KÃœPE", "LABORATUVAR", "LAHMACUN", 
    "LALE","LAMBA","LÄ°MON","LOKMA","LÄ°RA","LEVHA","LEBLEBÄ°","MASA","MAKAS","MANTAR","MARTI","MEYVE","MISIR",
    "MEKTUP","NAR","NANE","NOBEL","NOT","NÄ°SAN","NEHÄ°R","NOKTA","OKUL","ODA","ORMAN","OTOBÃœS","OYUN",
    "ORKESTRA","OPERATÃ–R","Ã–LÃœM","Ã–RNEK","Ã–ZGÃœR","Ã–ÄžRETMEN","Ã–RDEK","Ã–MÃœR","Ã–ÄžE","PARK","PENCERE","PÄ°LAV",
    "PALTO","PÄ°YANO","PASTA","PAZAR","RADYO","RENK","RÃœYA","RESÄ°M","ROBOT","ROKET","RÃœZGAR","SANDALYE",
    "SAYFA","SORU","SÃœT","SICAK","SOKAK","SALATA","ÅžEMSÄ°YE","ÅžEHÄ°R","ÅžARKI","ÅžANS","ÅžÄ°Ä°R","ÅžOFÃ–R","ÅžERÄ°T",
    "TABAK","TAKSÄ°","TREN","TELEFON","TATÄ°L","TOPRAK","TENCERE","UÃ‡AK","UÃ‡URUM","UÄžUR","UZUN","UYUM","USUL",
    "ÃœZÃœM","ÃœTÃœ","ÃœLKE","ÃœMÄ°T","ÃœST","ÃœRETÄ°M","VAZO","VAGON","VELÄ°","VAPUR","VÄ°TES","VÄ°ZYON","YAYLA","YILDIZ",
    "YEMEK","YAZILIM","YÃœZÃœK","YOKUÅž","ZAMAN","ZEKA","ZÄ°NCÄ°R","ZEBRA","ZAR","ZEYTÄ°N"];
    const bulunanKelimelerKumesi = new Set();
    let baslangicKelime = "";
    let kalanHarfler = [];
    let skor = 0;

    // SABÄ°T HÃœCRE KONUMU
    const sabitPozisyonlar = [[2,2], [2,4], [4,2], [4,4]];

    /*
    TAHTAYI OLUÅžTUR
    */
    function tahtaOlustur() {
      const oyunTahtasi = document.getElementById('gameBoard');
      oyunTahtasi.innerHTML = '';
      for (let satir = 0; satir < tahtaBoyutu; satir++) {
        for (let sutun = 0; sutun < tahtaBoyutu; sutun++) {
          const hucre = document.createElement('div');
          hucre.className = 'cell';
          hucre.dataset.row = satir;
          hucre.dataset.col = sutun;

          const sabitMi = sabitPozisyonlar.some(([sr, sc]) => sr === satir && sc === sutun);
          hucre.dataset.fixed = sabitMi;

          if (sabitMi && tahta[satir][sutun] === '') {
            tahta[satir][sutun] = rastgeleHarf();
          }

          hucre.textContent = tahta[satir][sutun];

          hucre.ondragover = e => e.preventDefault();
          hucre.ondrop = e => {
            if (hucre.dataset.fixed === 'true') return;
            harfBirak(e);
          };

          oyunTahtasi.appendChild(hucre);
        }
      }
    }

    /*
    HARF RAYINI OLUÅžTUR
    */
    function rafOlustur() {
      const harfRafi = document.getElementById('letterRack');
      harfRafi.innerHTML = '';

      if (!baslangicKelime) {
        baslangicKelime = kelimeListesi[Math.floor(Math.random() * kelimeListesi.length)];
        kalanHarfler = baslangicKelime.split('');
        const karisik = [...kalanHarfler].sort(() => Math.random() - 0.5);
        rafHarfler.splice(0, rafHarfler.length, ...karisik);

        while (rafHarfler.length < 7) {
          rafHarfler.push(rastgeleHarf());
        }
      }

      rafGuncelle();
    }

    /*
    HARF RAYINI GÃœNCELLE
    */
    function rafGuncelle() {
      const harfRafi = document.getElementById('letterRack');
      harfRafi.innerHTML = '';
      rafHarfler.forEach((harf, indis) => {
        const kutu = document.createElement('div');
        kutu.className = 'tile';
        kutu.textContent = harf;
        kutu.draggable = true;
        kutu.id = `tile-${indis}`;
        kutu.ondragstart = e => {
          e.dataTransfer.setData('text/plain', JSON.stringify({ harf, indis }));
        };
        harfRafi.appendChild(kutu);
      });
    }

    /*
    HARF BIRAKMA Ä°ÅžLEMÄ°
    */
    function harfBirak(e) {
      const hucre = e.currentTarget;
      const satir = parseInt(hucre.dataset.row);
      const sutun = parseInt(hucre.dataset.col);
      const veri = JSON.parse(e.dataTransfer.getData('text/plain'));
      const harf = veri.harf;
      const indis = veri.indis;

      if (tahta[satir][sutun] === '') {
        tahta[satir][sutun] = harf;

        const idx = kalanHarfler.indexOf(harf);
        if (idx !== -1) kalanHarfler.splice(idx, 1);

        if (kalanHarfler.length > 0) {
          const yedek = kalanHarfler.splice(Math.floor(Math.random() * kalanHarfler.length), 1)[0];
          rafHarfler[indis] = yedek;
        } else {
          rafHarfler[indis] = rastgeleHarf();
        }

        tahtaOlustur();
        rafGuncelle();
        kelimeleriKontrolEt();
      }
    }

    /*
    BULUNAN KELÄ°MELERÄ° KONTROL ET
    */
   function kelimeleriKontrolEt() {
      let bulunan = [];
      // SatÄ±rlar
      for (let satir = 0; satir < tahtaBoyutu; satir++) {
        const satirMetni = tahta[satir].join('');
        bulunan.push(...satirKelimeBul(satirMetni));
      }
      // SÃ¼tunlar
      for (let sutun = 0; sutun < tahtaBoyutu; sutun++) {
        let sutunMetni = '';
        for (let satir = 0; satir < tahtaBoyutu; satir++) {
          sutunMetni += tahta[satir][sutun];
        }
        bulunan.push(...satirKelimeBul(sutunMetni));
      }
      const bulunanTekil = Array.from(new Set(bulunan));

      //Daha Ã¶nce bulunmamÄ±ÅŸ olanlarÄ± ayÄ±kla
      const tamamenYeni = bulunanTekil.filter(kelime => !bulunanKelimelerKumesi.has(kelime));

      //EÄŸer gerÃ§ekten yeni kelime varsa, sadece bir kez ses Ã§al
      if (tamamenYeni.length > 0) {
        const kelimeSesi = document.getElementById('wordSound');
        kelimeSesi.currentTime = 0;
        kelimeSesi.play().catch(() => {});
      }

      //Yeni kelimeleri kÃ¼meye ekle
      tamamenYeni.forEach(k => bulunanKelimelerKumesi.add(k));

      //Ekrandaki listeyi ve skoru gÃ¼ncelle
      document.getElementById('wordListDisplay').innerHTML =
        Array.from(bulunanKelimelerKumesi)
            .map(w => `<div>${w}</div>`)
            .join('');
      skor = bulunanKelimelerKumesi.size * 10;
      document.getElementById('scoreDisplay').textContent = `Skor: ${skor}`;
    }
    /*
    SATIR METNÄ°NDE KELÄ°ME BUL
    */
    function satirKelimeBul(metin) {
      const sonuc = [];
      for (let i = 0; i < metin.length; i++) {
        for (let j = i + 2; j <= metin.length; j++) {
          const alt = metin.slice(i, j);
          if (kelimeListesi.includes(alt)) {
            sonuc.push(alt);
          }
        }
      }
      return sonuc;
    }

    /*
    RASTGELE TÃœRKÃ‡E HARF SEÃ‡
    */
    function rastgeleHarf() {
      return turkceHarfler[Math.floor(Math.random() * turkceHarfler.length)];
    }

    // BaÅŸlangÄ±Ã§ta oluÅŸtur
    tahtaOlustur();
    rafOlustur();

    // KullanÄ±cÄ± tÄ±klayÄ±nca mÃ¼ziÄŸi aÃ§
    window.addEventListener('click', () => {
      arkaPlanMuzigi.muted = false;
      arkaPlanMuzigi.play().catch(() => {});
    }, { once: true });

    // TÄ±klama sesi
    document.addEventListener('click', () => {
      const tiklamaSesi = document.getElementById('clickSound');
      tiklamaSesi.currentTime = 0;
      tiklamaSesi.play().catch(() => {});
    });

    // BaÅŸlangÄ±Ã§ ekranÄ±nÄ± gizle
    function oyunuBaslat() {
      const baslangicEkrani = document.getElementById('startScreen');
      if (baslangicEkrani) baslangicEkrani.style.display = 'none';
    }

    /*
    CANVAS ÃœZERÄ°NDE DEKORATÄ°F Ã‡EMBER Ã‡Ä°ZÄ°MÄ°
    */
    const tuval = document.getElementById('canvasLayer');
    const baglam = tuval.getContext('2d');

    function tuvaliBoyutla() {
      tuval.width = window.innerWidth;
      tuval.height = window.innerHeight;
    }
    window.addEventListener('resize', tuvaliBoyutla);
    tuvaliBoyutla();

    function cemberCiz() {
      baglam.clearRect(0, 0, tuval.width, tuval.height);
      baglam.fillStyle = 'rgba(100,100,100,0.3)';
      for (let i = 0; i < 10; i++) {
        const x = Math.random() * tuval.width;
        const y = Math.random() * tuval.height;
        const r = Math.random() * 10 + 5;
        baglam.beginPath();
        baglam.arc(x, y, r, 0, Math.PI * 2);
        baglam.fill();
      }
    }
    setInterval(cemberCiz, 1000);
  </script>

  <!-- TIKLAMALARDA CLICK SESÄ° -->
  <audio id="clickSound">
    <source src="click.mp3" type="audio/mpeg">
  </audio>
  <!-- KELÄ°ME BULUNDUÄžUNDA SES -->
  <audio id="wordSound">
    <source src="kelime_dogru.mp3" type="audio/mpeg">
  </audio>
</body>
</html>

